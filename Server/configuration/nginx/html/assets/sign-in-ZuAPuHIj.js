import{u as C,r,j as e,B as m,I,n as D,S as x,T as l,A as F,H as L}from"./index-DofbN3ct.js";import{C as A}from"./config-global-DGEDRhMa.js";import{L as E,c as P}from"./main-0m3uGtsF.js";import{T as g}from"./TextField-BXOyU4e8.js";import{C as k}from"./Collapse-X2KobHZS.js";import{L as B}from"./LoadingButton-tMfNp130.js";import{L as T}from"./Link-DC6rJ5Mq.js";import"./link_api-BSvQ-Pm0.js";function N(){const c=C(),[i,f]=r.useState(!1),[w,d]=r.useState(!1),[j,b]=r.useState(""),[t,p]=r.useState({username:!1,password:!1});r.useEffect(()=>{(async()=>{try{const a=await E()}catch(a){console.error("Error fetching data:",a)}})()},[]);const[s,y]=r.useState({username:"",password:""}),u=o=>{const{name:a,value:h}=o.target;y(n=>({...n,[a]:h})),p({...t,[a]:!1}),d(!1)},v=r.useCallback(o=>{o.preventDefault();const a={username:s.username==="",password:s.password===""};p(a),s.username&&s.password&&(async()=>{try{const n=await P(s);console.log("Code",n),c("/",{replace:!0})}catch(n){console.error("Error fetching data:",n),b(n.response.data.message),d(!0)}})()},[s,c]),S=e.jsxs(m,{component:"form",autoComplete:"on",display:"flex",flexDirection:"column",alignItems:"flex-end",onSubmit:v,children:[e.jsx(g,{fullWidth:!0,name:"username",label:"Username",defaultValue:s==null?void 0:s.username,error:t==null?void 0:t.username,onChange:u,InputLabelProps:{shrink:!0},sx:{mb:3}}),e.jsx(g,{fullWidth:!0,name:"password",label:"Password",onChange:u,defaultValue:s==null?void 0:s.password,error:t==null?void 0:t.password,InputLabelProps:{shrink:!0},type:i?"text":"password",sx:{mb:3},InputProps:{endAdornment:e.jsx(I,{position:"end",children:e.jsx(D,{onClick:()=>f(!i),edge:"end",children:i?e.jsx(x,{width:"30px",height:"30px",src:"/assets/icons/iconify/password-show.svg"}):e.jsx(x,{width:"30px",height:"30px",src:"/assets/icons/iconify/password-hide.svg"})})})}}),e.jsx(k,{in:w,timeout:500,sx:{width:"100%"},children:e.jsx(l,{width:"100%",color:"white",mb:2,py:1.5,borderRadius:1,textAlign:"center",variant:"subtitle1",component:"div",bgcolor:"#FF5630",children:j})}),e.jsx(B,{fullWidth:!0,size:"large",type:"submit",color:"inherit",variant:"contained",children:"Sign in"})]});return e.jsxs(e.Fragment,{children:[e.jsxs(m,{gap:1.5,display:"flex",flexDirection:"column",alignItems:"center",sx:{mb:5},children:[e.jsx(F,{sx:{width:150,height:150,mb:3,border:"1px solid gray"},alt:"Remy Sharp",src:"/polipharm.png"}),e.jsx(l,{variant:"h5",children:"Sign in"}),e.jsxs(l,{variant:"body2",color:"text.secondary",children:["Donâ€™t have an account?",e.jsx(T,{variant:"subtitle2",sx:{ml:.5},children:"Get started"})]})]}),S]})}function U(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{children:e.jsxs("title",{children:[" ",`Sign in - ${A.appName}`]})}),e.jsx(N,{})]})}export{U as default};
