import{u as C,r as a,j as e,B as u,I,z as F,S as m,T as l,A as D,H as L}from"./index-CRGwWZlx.js";import{C as A}from"./config-global-DGEDRhMa.js";import{L as E,c as P}from"./main-rinyBdXH.js";import{T as x}from"./TextField-C0F8_IG-.js";import{C as k}from"./Collapse-DaN8Id9J.js";import{L as B}from"./LoadingButton-DfmzftKs.js";import{L as T}from"./Link-Dv-dSI6V.js";function N(){const c=C(),[i,g]=a.useState(!1),[f,d]=a.useState(!1),[w,j]=a.useState(""),[t,p]=a.useState({username:!1,password:!1});a.useEffect(()=>{(async()=>{try{const r=await E()}catch(r){console.error("Error fetching data:",r)}})()},[]);const[s,b]=a.useState({username:"",password:""}),h=o=>{const{name:r,value:n}=o.target;b(S=>({...S,[r]:n})),p({...t,[r]:!1}),d(!1)},y=a.useCallback(()=>{const o={username:s.username==="",password:s.password===""};p(o),s.username&&s.password&&(async()=>{try{const n=await P(s);console.log("Code",n),c("/",{replace:!0})}catch(n){console.error("Error fetching data:",n),j(n.response.data.message),d(!0)}})()},[s,c]),v=e.jsxs(u,{display:"flex",flexDirection:"column",alignItems:"flex-end",children:[e.jsx(x,{fullWidth:!0,name:"username",label:"Username",defaultValue:s==null?void 0:s.username,error:t==null?void 0:t.username,onChange:h,InputLabelProps:{shrink:!0},sx:{mb:3}}),e.jsx(x,{fullWidth:!0,name:"password",label:"Password",onChange:h,defaultValue:s==null?void 0:s.password,error:t==null?void 0:t.password,InputLabelProps:{shrink:!0},type:i?"text":"password",sx:{mb:3},InputProps:{endAdornment:e.jsx(I,{position:"end",children:e.jsx(F,{onClick:()=>g(!i),edge:"end",children:i?e.jsx(m,{width:"30px",height:"30px",src:"/assets/icons/iconify/password-show.svg"}):e.jsx(m,{width:"30px",height:"30px",src:"/assets/icons/iconify/password-hide.svg"})})})}}),e.jsx(k,{in:f,timeout:500,sx:{width:"100%"},children:e.jsx(l,{width:"100%",color:"white",mb:2,py:1.5,borderRadius:1,textAlign:"center",variant:"subtitle1",component:"div",bgcolor:"#FF5630",children:w})}),e.jsx(B,{fullWidth:!0,size:"large",type:"submit",color:"inherit",variant:"contained",onClick:y,children:"Sign in"})]});return e.jsxs(e.Fragment,{children:[e.jsxs(u,{gap:1.5,display:"flex",flexDirection:"column",alignItems:"center",sx:{mb:5},children:[e.jsx(D,{sx:{width:150,height:150,mb:3,border:"1px solid gray"},alt:"Remy Sharp",src:"/polipharm.png"}),e.jsx(l,{variant:"h5",children:"Sign in"}),e.jsxs(l,{variant:"body2",color:"text.secondary",children:["Donâ€™t have an account?",e.jsx(T,{variant:"subtitle2",sx:{ml:.5},children:"Get started"})]})]}),v]})}function O(){return e.jsxs(e.Fragment,{children:[e.jsx(L,{children:e.jsxs("title",{children:[" ",`Sign in - ${A.appName}`]})}),e.jsx(N,{})]})}export{O as default};
