import{e as Q,g as pt,t as gt,h as Re,j as c,r as p,B as I,i as mt,S as X,v as xe,T as F,f as De,k as Me,l as xt,I as bt,a as yt,n as wt,o as Ee,p as jt,q as St,u as vt,D as Ct,H as Pt}from"./index-DofbN3ct.js";import{C as It}from"./config-global-DGEDRhMa.js";import{S as kt}from"./sweetalert2.esm.all-B0Dix5B2.js";import{u as be,C as le,a as Tt,f as _t}from"./format-number-CRyvzA6x.js";import{a as Ft}from"./colorManipulator-Bfc9rwDw.js";import{C as B}from"./Card-Yzsyt_Am.js";import{T as H,a as S,R as Ne,b as At,c as Lt,d as Xe,e as $e,f as We,g as Be}from"./TableSortLabel-C9MefLxF.js";import{O as Ot,a as Rt}from"./main-0m3uGtsF.js";import{L as Dt}from"./loading_page-BpUePeXM.js";import{L as ye}from"./LoadingButton-tMfNp130.js";import{G as _}from"./Grid2-B2tOkFCA.js";import"./index-Chjiymov.js";import"./KeyboardArrowRight-CG28dAyb.js";import"./link_api-BSvQ-Pm0.js";Q.extend(pt);Q.extend(gt);const Mt={dateTime:"DD MMM YYYY h:mm a"};function G(e,t="DD/MM/YYYY, HH:mm:ss",n="Asia/Bangkok"){return e?Q(e).isValid()?Q(e).tz(n).format(t??Mt.dateTime):"Invalid time value":null}function Et({title:e,subheader:t,unit:n,chart:r,...s}){const o=Re(),i=r.colors??[o.palette.primary.dark,Ft(o.palette.primary.light,.64)],a=be({colors:i,stroke:{width:3,colors:["transparent"]},xaxis:{categories:r.categories},legend:{show:!0},tooltip:{y:{formatter:l=>`${l} ${n}`}},...r.options});return be({xaxis:{categories:r.categories},tooltip:{x:{format:"dd/MM/yy HH:mm"},y:{formatter:l=>`${l} ${n}`}},...r.options}),c.jsxs(B,{...s,children:[c.jsx(le,{title:e,subheader:t}),c.jsx(Tt,{type:"bar",series:r.series,options:a,height:500,sx:{py:2.5,pl:1,pr:2.5}})]})}const He={root:"mnl__icon__root",flag:"mnl__icon__flag"},Ge=Object.freeze({left:0,top:0,width:16,height:16}),Y=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),ue=Object.freeze({...Ge,...Y}),ne=Object.freeze({...ue,body:"",hidden:!1});function Nt(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}function we(e,t){const n=Nt(e,t);for(const r in ne)r in Y?r in e&&!(r in n)&&(n[r]=Y[r]):r in t?n[r]=t[r]:r in e&&(n[r]=e[r]);return n}function Xt(e,t){const n=e.icons,r=e.aliases||Object.create(null),s=Object.create(null);function o(i){if(n[i])return s[i]=[];if(!(i in s)){s[i]=null;const a=r[i]&&r[i].parent,l=a&&o(a);l&&(s[i]=[a].concat(l))}return s[i]}return Object.keys(n).concat(Object.keys(r)).forEach(o),s}function $t(e,t,n){const r=e.icons,s=e.aliases||Object.create(null);let o={};function i(a){o=we(r[a]||s[a],o)}return i(t),n.forEach(i),we(e,o)}function ze(e,t){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(s=>{t(s,null),n.push(s)});const r=Xt(e);for(const s in r){const o=r[s];o&&(t(s,$t(e,s,o)),n.push(s))}return n}const E=/^[a-z0-9]+(-[a-z0-9]+)*$/,J=(e,t,n,r="")=>{const s=e.split(":");if(e.slice(0,1)==="@"){if(s.length<2||s.length>3)return null;r=s.shift().slice(1)}if(s.length>3||!s.length)return null;if(s.length>1){const a=s.pop(),l=s.pop(),f={provider:s.length>0?s[0]:r,prefix:l,name:a};return t&&!U(f)?null:f}const o=s[0],i=o.split("-");if(i.length>1){const a={provider:r,prefix:i.shift(),name:i.join("-")};return t&&!U(a)?null:a}if(n&&r===""){const a={provider:r,prefix:"",name:o};return t&&!U(a,n)?null:a}return null},U=(e,t)=>e?!!((e.provider===""||e.provider.match(E))&&(t&&e.prefix===""||e.prefix.match(E))&&e.name.match(E)):!1,Wt={provider:"",aliases:{},not_found:{},...Ge};function ee(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function Ve(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!ee(e,Wt))return null;const n=t.icons;for(const s in n){const o=n[s];if(!s.match(E)||typeof o.body!="string"||!ee(o,ne))return null}const r=t.aliases||Object.create(null);for(const s in r){const o=r[s],i=o.parent;if(!s.match(E)||typeof i!="string"||!n[i]&&!r[i]||!ee(o,ne))return null}return t}const je=Object.create(null);function Bt(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function L(e,t){const n=je[e]||(je[e]=Object.create(null));return n[t]||(n[t]=Bt(e,t))}function fe(e,t){return Ve(t)?ze(t,(n,r)=>{r?e.icons[n]=r:e.missing.add(n)}):[]}function Ht(e,t,n){try{if(typeof n.body=="string")return e.icons[t]={...n},!0}catch{}return!1}let $=!1;function Ue(e){return typeof e=="boolean"&&($=e),$}function Se(e){const t=typeof e=="string"?J(e,!0,$):e;if(t){const n=L(t.provider,t.prefix),r=t.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function Gt(e,t){const n=J(e,!0,$);if(!n)return!1;const r=L(n.provider,n.prefix);return Ht(r,n.name,t)}function zt(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),$&&!t&&!e.prefix){let s=!1;return Ve(e)&&(e.prefix="",ze(e,(o,i)=>{i&&Gt(o,i)&&(s=!0)})),s}const n=e.prefix;if(!U({provider:t,prefix:n,name:"a"}))return!1;const r=L(t,n);return!!fe(r,e)}const qe=Object.freeze({width:null,height:null}),Qe=Object.freeze({...qe,...Y}),Vt=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Ut=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function ve(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const r=e.split(Vt);if(r===null||!r.length)return e;const s=[];let o=r.shift(),i=Ut.test(o);for(;;){if(i){const a=parseFloat(o);isNaN(a)?s.push(o):s.push(Math.ceil(a*t*n)/n)}else s.push(o);if(o=r.shift(),o===void 0)return s.join("");i=!i}}function qt(e,t="defs"){let n="";const r=e.indexOf("<"+t);for(;r>=0;){const s=e.indexOf(">",r),o=e.indexOf("</"+t);if(s===-1||o===-1)break;const i=e.indexOf(">",o);if(i===-1)break;n+=e.slice(s+1,o).trim(),e=e.slice(0,r).trim()+e.slice(i+1)}return{defs:n,content:e}}function Qt(e,t){return e?"<defs>"+e+"</defs>"+t:t}function Yt(e,t,n){const r=qt(e);return Qt(r.defs,t+r.content+n)}const Jt=e=>e==="unset"||e==="undefined"||e==="none";function Kt(e,t){const n={...ue,...e},r={...Qe,...t},s={left:n.left,top:n.top,width:n.width,height:n.height};let o=n.body;[n,r].forEach(w=>{const u=[],h=w.hFlip,C=w.vFlip;let v=w.rotate;h?C?v+=2:(u.push("translate("+(s.width+s.left).toString()+" "+(0-s.top).toString()+")"),u.push("scale(-1 1)"),s.top=s.left=0):C&&(u.push("translate("+(0-s.left).toString()+" "+(s.height+s.top).toString()+")"),u.push("scale(1 -1)"),s.top=s.left=0);let P;switch(v<0&&(v-=Math.floor(v/4)*4),v=v%4,v){case 1:P=s.height/2+s.top,u.unshift("rotate(90 "+P.toString()+" "+P.toString()+")");break;case 2:u.unshift("rotate(180 "+(s.width/2+s.left).toString()+" "+(s.height/2+s.top).toString()+")");break;case 3:P=s.width/2+s.left,u.unshift("rotate(-90 "+P.toString()+" "+P.toString()+")");break}v%2===1&&(s.left!==s.top&&(P=s.left,s.left=s.top,s.top=P),s.width!==s.height&&(P=s.width,s.width=s.height,s.height=P)),u.length&&(o=Yt(o,'<g transform="'+u.join(" ")+'">',"</g>"))});const i=r.width,a=r.height,l=s.width,f=s.height;let d,m;i===null?(m=a===null?"1em":a==="auto"?f:a,d=ve(m,l/f)):(d=i==="auto"?l:i,m=a===null?ve(d,f/l):a==="auto"?f:a);const x={},g=(w,u)=>{Jt(u)||(x[w]=u.toString())};g("width",d),g("height",m);const b=[s.left,s.top,l,f];return x.viewBox=b.join(" "),{attributes:x,viewBox:b,body:o}}const Zt=/\sid="(\S+)"/g,en="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let tn=0;function nn(e,t=en){const n=[];let r;for(;r=Zt.exec(e);)n.push(r[1]);if(!n.length)return e;const s="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(o=>{const i=typeof t=="function"?t(o):t+(tn++).toString(),a=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+i+s+"$3")}),e=e.replace(new RegExp(s,"g"),""),e}const se=Object.create(null);function sn(e,t){se[e]=t}function re(e){return se[e]||se[""]}function de(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const he=Object.create(null),M=["https://api.simplesvg.com","https://api.unisvg.com"],q=[];for(;M.length>0;)M.length===1||Math.random()>.5?q.push(M.shift()):q.push(M.pop());he[""]=de({resources:["https://api.iconify.design"].concat(q)});function rn(e,t){const n=de(t);return n===null?!1:(he[e]=n,!0)}function pe(e){return he[e]}const on=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let Ce=on();function cn(e,t){const n=pe(e);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let s=0;n.resources.forEach(i=>{s=Math.max(s,i.length)});const o=t+".json?icons=";r=n.maxURL-s-n.path.length-o.length}return r}function an(e){return e===404}const ln=(e,t,n)=>{const r=[],s=cn(e,t),o="icons";let i={type:o,provider:e,prefix:t,icons:[]},a=0;return n.forEach((l,f)=>{a+=l.length+1,a>=s&&f>0&&(r.push(i),i={type:o,provider:e,prefix:t,icons:[]},a=l.length),i.icons.push(l)}),r.push(i),r};function un(e){if(typeof e=="string"){const t=pe(e);if(t)return t.path}return"/"}const fn=(e,t,n)=>{if(!Ce){n("abort",424);return}let r=un(t.provider);switch(t.type){case"icons":{const o=t.prefix,a=t.icons.join(","),l=new URLSearchParams({icons:a});r+=o+".json?"+l.toString();break}case"custom":{const o=t.uri;r+=o.slice(0,1)==="/"?o.slice(1):o;break}default:n("abort",400);return}let s=503;Ce(e+r).then(o=>{const i=o.status;if(i!==200){setTimeout(()=>{n(an(i)?"abort":"next",i)});return}return s=501,o.json()}).then(o=>{if(typeof o!="object"||o===null){setTimeout(()=>{o===404?n("abort",o):n("next",s)});return}setTimeout(()=>{n("success",o)})}).catch(()=>{n("next",s)})},dn={prepare:ln,send:fn};function hn(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((s,o)=>s.provider!==o.provider?s.provider.localeCompare(o.provider):s.prefix!==o.prefix?s.prefix.localeCompare(o.prefix):s.name.localeCompare(o.name));let r={provider:"",prefix:"",name:""};return e.forEach(s=>{if(r.name===s.name&&r.prefix===s.prefix&&r.provider===s.provider)return;r=s;const o=s.provider,i=s.prefix,a=s.name,l=n[o]||(n[o]=Object.create(null)),f=l[i]||(l[i]=L(o,i));let d;a in f.icons?d=t.loaded:i===""||f.missing.has(a)?d=t.missing:d=t.pending;const m={provider:o,prefix:i,name:a};d.push(m)}),t}function Ye(e,t){e.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(s=>s.id!==t))})}function pn(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const r=e.provider,s=e.prefix;t.forEach(o=>{const i=o.icons,a=i.pending.length;i.pending=i.pending.filter(l=>{if(l.prefix!==s)return!0;const f=l.name;if(e.icons[f])i.loaded.push({provider:r,prefix:s,name:f});else if(e.missing.has(f))i.missing.push({provider:r,prefix:s,name:f});else return n=!0,!0;return!1}),i.pending.length!==a&&(n||Ye([e],o.id),o.callback(i.loaded.slice(0),i.missing.slice(0),i.pending.slice(0),o.abort))})}))}let gn=0;function mn(e,t,n){const r=gn++,s=Ye.bind(null,n,r);if(!t.pending.length)return s;const o={id:r,icons:t,callback:e,abort:s};return n.forEach(i=>{(i.loaderCallbacks||(i.loaderCallbacks=[])).push(o)}),s}function xn(e,t=!0,n=!1){const r=[];return e.forEach(s=>{const o=typeof s=="string"?J(s,t,n):s;o&&r.push(o)}),r}var bn={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function yn(e,t,n,r){const s=e.resources.length,o=e.random?Math.floor(Math.random()*s):e.index;let i;if(e.random){let y=e.resources.slice(0);for(i=[];y.length>1;){const j=Math.floor(Math.random()*y.length);i.push(y[j]),y=y.slice(0,j).concat(y.slice(j+1))}i=i.concat(y)}else i=e.resources.slice(o).concat(e.resources.slice(0,o));const a=Date.now();let l="pending",f=0,d,m=null,x=[],g=[];typeof r=="function"&&g.push(r);function b(){m&&(clearTimeout(m),m=null)}function w(){l==="pending"&&(l="aborted"),b(),x.forEach(y=>{y.status==="pending"&&(y.status="aborted")}),x=[]}function u(y,j){j&&(g=[]),typeof y=="function"&&g.push(y)}function h(){return{startTime:a,payload:t,status:l,queriesSent:f,queriesPending:x.length,subscribe:u,abort:w}}function C(){l="failed",g.forEach(y=>{y(void 0,d)})}function v(){x.forEach(y=>{y.status==="pending"&&(y.status="aborted")}),x=[]}function P(y,j,R){const T=j!=="success";switch(x=x.filter(k=>k!==y),l){case"pending":break;case"failed":if(T||!e.dataAfterTimeout)return;break;default:return}if(j==="abort"){d=R,C();return}if(T){d=R,x.length||(i.length?O():C());return}if(b(),v(),!e.random){const k=e.resources.indexOf(y.resource);k!==-1&&k!==e.index&&(e.index=k)}l="completed",g.forEach(k=>{k(R)})}function O(){if(l!=="pending")return;b();const y=i.shift();if(y===void 0){if(x.length){m=setTimeout(()=>{b(),l==="pending"&&(v(),C())},e.timeout);return}C();return}const j={status:"pending",resource:y,callback:(R,T)=>{P(j,R,T)}};x.push(j),f++,m=setTimeout(O,e.rotate),n(y,t,j.callback)}return setTimeout(O),h}function Je(e){const t={...bn,...e};let n=[];function r(){n=n.filter(a=>a().status==="pending")}function s(a,l,f){const d=yn(t,a,l,(m,x)=>{r(),f&&f(m,x)});return n.push(d),d}function o(a){return n.find(l=>a(l))||null}return{query:s,find:o,setIndex:a=>{t.index=a},getIndex:()=>t.index,cleanup:r}}function Pe(){}const te=Object.create(null);function wn(e){if(!te[e]){const t=pe(e);if(!t)return;const n=Je(t),r={config:t,redundancy:n};te[e]=r}return te[e]}function jn(e,t,n){let r,s;if(typeof e=="string"){const o=re(e);if(!o)return n(void 0,424),Pe;s=o.send;const i=wn(e);i&&(r=i.redundancy)}else{const o=de(e);if(o){r=Je(o);const i=e.resources?e.resources[0]:"",a=re(i);a&&(s=a.send)}}return!r||!s?(n(void 0,424),Pe):r.query(t,s,n)().abort}const Ie="iconify2",W="iconify",Ke=W+"-count",ke=W+"-version",Ze=36e5,Sn=168,vn=50;function oe(e,t){try{return e.getItem(t)}catch{}}function ge(e,t,n){try{return e.setItem(t,n),!0}catch{}}function Te(e,t){try{e.removeItem(t)}catch{}}function ie(e,t){return ge(e,Ke,t.toString())}function ce(e){return parseInt(oe(e,Ke))||0}const K={local:!0,session:!0},et={local:new Set,session:new Set};let me=!1;function Cn(e){me=e}let z=typeof window>"u"?{}:window;function tt(e){const t=e+"Storage";try{if(z&&z[t]&&typeof z[t].length=="number")return z[t]}catch{}K[e]=!1}function nt(e,t){const n=tt(e);if(!n)return;const r=oe(n,ke);if(r!==Ie){if(r){const a=ce(n);for(let l=0;l<a;l++)Te(n,W+l.toString())}ge(n,ke,Ie),ie(n,0);return}const s=Math.floor(Date.now()/Ze)-Sn,o=a=>{const l=W+a.toString(),f=oe(n,l);if(typeof f=="string"){try{const d=JSON.parse(f);if(typeof d=="object"&&typeof d.cached=="number"&&d.cached>s&&typeof d.provider=="string"&&typeof d.data=="object"&&typeof d.data.prefix=="string"&&t(d,a))return!0}catch{}Te(n,l)}};let i=ce(n);for(let a=i-1;a>=0;a--)o(a)||(a===i-1?(i--,ie(n,i)):et[e].add(a))}function st(){if(!me){Cn(!0);for(const e in K)nt(e,t=>{const n=t.data,r=t.provider,s=n.prefix,o=L(r,s);if(!fe(o,n).length)return!1;const i=n.lastModified||-1;return o.lastModifiedCached=o.lastModifiedCached?Math.min(o.lastModifiedCached,i):i,!0})}}function Pn(e,t){const n=e.lastModifiedCached;if(n&&n>=t)return n===t;if(e.lastModifiedCached=t,n)for(const r in K)nt(r,s=>{const o=s.data;return s.provider!==e.provider||o.prefix!==e.prefix||o.lastModified===t});return!0}function In(e,t){me||st();function n(r){let s;if(!K[r]||!(s=tt(r)))return;const o=et[r];let i;if(o.size)o.delete(i=Array.from(o).shift());else if(i=ce(s),i>=vn||!ie(s,i+1))return;const a={cached:Math.floor(Date.now()/Ze),provider:e.provider,data:t};return ge(s,W+i.toString(),JSON.stringify(a))}t.lastModified&&!Pn(e,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),n("local")||n("session"))}function _e(){}function kn(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,pn(e)}))}function Tn(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:r}=e,s=e.iconsToLoad;delete e.iconsToLoad;let o;if(!s||!(o=re(n)))return;o.prepare(n,r,s).forEach(a=>{jn(n,a,l=>{if(typeof l!="object")a.icons.forEach(f=>{e.missing.add(f)});else try{const f=fe(e,l);if(!f.length)return;const d=e.pendingIcons;d&&f.forEach(m=>{d.delete(m)}),In(e,l)}catch(f){console.error(f)}kn(e)})})}))}const _n=(e,t)=>{const n=xn(e,!0,Ue()),r=hn(n);if(!r.pending.length){let l=!0;return t&&setTimeout(()=>{l&&t(r.loaded,r.missing,r.pending,_e)}),()=>{l=!1}}const s=Object.create(null),o=[];let i,a;return r.pending.forEach(l=>{const{provider:f,prefix:d}=l;if(d===a&&f===i)return;i=f,a=d,o.push(L(f,d));const m=s[f]||(s[f]=Object.create(null));m[d]||(m[d]=[])}),r.pending.forEach(l=>{const{provider:f,prefix:d,name:m}=l,x=L(f,d),g=x.pendingIcons||(x.pendingIcons=new Set);g.has(m)||(g.add(m),s[f][d].push(m))}),o.forEach(l=>{const{provider:f,prefix:d}=l;s[f][d].length&&Tn(l,s[f][d])}),t?mn(t,r,o):_e};function Fn(e,t){const n={...e};for(const r in t){const s=t[r],o=typeof s;r in qe?(s===null||s&&(o==="string"||o==="number"))&&(n[r]=s):o===typeof n[r]&&(n[r]=r==="rotate"?s%4:s)}return n}const An=/[\s,]+/;function Ln(e,t){t.split(An).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function On(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function r(s){for(;s<0;)s+=4;return s%4}if(n===""){const s=parseInt(e);return isNaN(s)?0:r(s)}else if(n!==e){let s=0;switch(n){case"%":s=25;break;case"deg":s=90}if(s){let o=parseFloat(e.slice(0,e.length-n.length));return isNaN(o)?0:(o=o/s,o%1===0?r(o):0)}}return t}function Rn(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in t)n+=" "+r+'="'+t[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function Dn(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Mn(e){return"data:image/svg+xml,"+Dn(e)}function En(e){return'url("'+Mn(e)+'")'}let N;function Nn(){try{N=window.trustedTypes.createPolicy("iconify",{createHTML:e=>e})}catch{N=null}}function Xn(e){return N===void 0&&Nn(),N?N.createHTML(e):e}const rt={...Qe,inline:!1},$n={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},Wn={display:"inline-block"},ae={backgroundColor:"currentColor"},ot={backgroundColor:"transparent"},Fe={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Ae={WebkitMask:ae,mask:ae,background:ot};for(const e in Ae){const t=Ae[e];for(const n in Fe)t[e+n]=Fe[n]}const Bn={...rt,inline:!0};function Le(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const Hn=(e,t,n)=>{const r=t.inline?Bn:rt,s=Fn(r,t),o=t.mode||"svg",i={},a=t.style||{},l={...o==="svg"?$n:{}};if(n){const u=J(n,!1,!0);if(u){const h=["iconify"],C=["provider","prefix"];for(const v of C)u[v]&&h.push("iconify--"+u[v]);l.className=h.join(" ")}}for(let u in t){const h=t[u];if(h!==void 0)switch(u){case"icon":case"style":case"children":case"onLoad":case"mode":case"ssr":break;case"_ref":l.ref=h;break;case"className":l[u]=(l[u]?l[u]+" ":"")+h;break;case"inline":case"hFlip":case"vFlip":s[u]=h===!0||h==="true"||h===1;break;case"flip":typeof h=="string"&&Ln(s,h);break;case"color":i.color=h;break;case"rotate":typeof h=="string"?s[u]=On(h):typeof h=="number"&&(s[u]=h);break;case"ariaHidden":case"aria-hidden":h!==!0&&h!=="true"&&delete l["aria-hidden"];break;default:r[u]===void 0&&(l[u]=h)}}const f=Kt(e,s),d=f.attributes;if(s.inline&&(i.verticalAlign="-0.125em"),o==="svg"){l.style={...i,...a},Object.assign(l,d);let u=0,h=t.id;return typeof h=="string"&&(h=h.replace(/-/g,"_")),l.dangerouslySetInnerHTML={__html:Xn(nn(f.body,h?()=>h+"ID"+u++:"iconifyReact"))},p.createElement("svg",l)}const{body:m,width:x,height:g}=e,b=o==="mask"||(o==="bg"?!1:m.indexOf("currentColor")!==-1),w=Rn(m,{...d,width:x+"",height:g+""});return l.style={...i,"--svg":En(w),width:Le(d.width),height:Le(d.height),...Wn,...b?ae:ot,...a},p.createElement("span",l)};Ue(!0);sn("",dn);if(typeof document<"u"&&typeof window<"u"){st();const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!zt(r))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let n in t){const r="IconifyProviders["+n+"] is invalid.";try{const s=t[n];if(typeof s!="object"||!s||s.resources===void 0)continue;rn(n,s)||console.error(r)}catch{console.error(r)}}}}function it(e){const[t,n]=p.useState(!!e.ssr),[r,s]=p.useState({});function o(g){if(g){const b=e.icon;if(typeof b=="object")return{name:"",data:b};const w=Se(b);if(w)return{name:b,data:w}}return{name:""}}const[i,a]=p.useState(o(!!e.ssr));function l(){const g=r.callback;g&&(g(),s({}))}function f(g){if(JSON.stringify(i)!==JSON.stringify(g))return l(),a(g),!0}function d(){var g;const b=e.icon;if(typeof b=="object"){f({name:"",data:b});return}const w=Se(b);if(f({name:b,data:w}))if(w===void 0){const u=_n([b],d);s({callback:u})}else w&&((g=e.onLoad)===null||g===void 0||g.call(e,b))}p.useEffect(()=>(n(!0),l),[]),p.useEffect(()=>{t&&d()},[e.icon,t]);const{name:m,data:x}=i;return x?Hn({...ue,...x},e,m):e.children?e.children:p.createElement("span",{})}const Gn=p.forwardRef((e,t)=>it({...e,_ref:t}));p.forwardRef((e,t)=>it({inline:!0,...e,_ref:t}));const zn=p.forwardRef(({className:e,width:t=20,sx:n,...r},s)=>c.jsx(I,{ssr:!0,ref:s,component:Gn,className:He.root.concat(e?` ${e}`:""),sx:{width:t,height:t,flexShrink:0,display:"inline-flex",...n},...r}));p.forwardRef(({code:e,className:t,sx:n,...r},s)=>{const o={width:26,height:20,flexShrink:0,overflow:"hidden",borderRadius:"5px",alignItems:"center",display:"inline-flex",justifyContent:"center",bgcolor:"background.neutral"};return e?c.jsx(I,{ref:s,component:"span",className:He.flag.concat(t?` ${t}`:""),sx:{...o,...n},...r,children:c.jsx(I,{component:"img",loading:"lazy",alt:e,src:`https://purecatamphetamine.github.io/country-flag-icons/3x2/${e==null?void 0:e.toUpperCase()}.svg`,sx:{width:1,height:1,maxWidth:"unset",objectFit:"cover"}})}):null});function V({icon:e,title:t,total:n,percent:r,color:s="primary",sx:o,...i}){const a=Re();a.palette[s].dark;const l=c.jsxs(I,{sx:{top:16,gap:.5,right:16,display:"flex",position:"absolute",alignItems:"center"},children:[c.jsx(zn,{width:20,icon:r<0?"eva:trending-down-fill":"eva:trending-up-fill"}),c.jsxs(I,{component:"span",sx:{typography:"subtitle2"},children:[r>0&&"+",_t(r)]})]});return c.jsxs(B,{sx:{...mt({color:`135deg, ${xe(a.vars.palette[s].lighterChannel,.48)}, ${xe(a.vars.palette[s].lightChannel,.48)}`}),p:3,boxShadow:"none",position:"relative",color:`${s}.darker`,backgroundColor:"common.white",...o},...i,children:[c.jsx(I,{sx:{width:48,height:48,mb:3},children:e}),l,c.jsx(I,{sx:{display:"flex",flexWrap:"wrap",alignItems:"flex-end",justifyContent:"flex-end"},children:c.jsxs(I,{sx:{flexGrow:1,minWidth:112},children:[c.jsx(I,{sx:{mb:1,typography:"subtitle2"},children:t}),c.jsxs(I,{sx:{typography:"h4"},children:[n.toLocaleString()," ชิ้น"]})]})}),c.jsx(X,{src:"/assets/background/shape-square.svg",sx:{top:0,left:-20,width:240,zIndex:-1,height:240,opacity:.24,position:"absolute",color:`${s}.main`}})]})}function ct({searchQuery:e,...t}){return c.jsx(H,{...t,children:c.jsx(S,{align:"center",colSpan:8,children:c.jsxs(I,{sx:{py:15,textAlign:"center"},children:[c.jsx(F,{variant:"h6",sx:{mb:1},children:"ไม่พบข้อมูล"}),c.jsxs(F,{variant:"body2",children:["ไม่พบข้อมูลที่ตรงกับ  ",c.jsxs("strong",{children:['"',e,'"']}),".",c.jsx("br",{})," ตรวจสอบข้อมูลการค้นหาอีกครั้ง"]})]})})})}function Vn({row:e,selected:t}){return c.jsx(c.Fragment,{children:c.jsxs(H,{hover:!0,children:[c.jsx(S,{component:"th",scope:"row",children:c.jsxs(I,{gap:1,display:"flex",alignItems:"center",children:[c.jsx(Ne,{src:"/assets/icons/iconify/overtime.svg",style:{width:"40px",height:"40px"}}),De(e.timestamp)]})}),c.jsx(S,{children:e.serial_number}),c.jsx(S,{children:e.operator1}),c.jsx(S,{children:e.operator2}),c.jsxs(S,{sx:{color:"secondary.main",fontWeight:"bold"},children:[e.min_weight.toFixed(2)," g."]}),c.jsxs(S,{sx:{color:"primary.main",fontWeight:"bold"},children:[e.max_weight.toFixed(2)," g."]}),c.jsxs(S,{sx:{color:e.result==="FAIL"&&"error.main"||"success.main",fontWeight:"bold"},children:[e.weight.toFixed(2)," g."]}),c.jsx(S,{align:"center",children:c.jsx(Me,{color:e.result==="FAIL"&&"error"||"success",children:e.result})})]})})}const Un={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function at(e,t,n){return e?Math.max(0,(1+e)*t-n):0}function Oe(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function lt(e,t){return e==="desc"?(n,r)=>-Oe(n,r,t):(n,r)=>Oe(n,r,t)}function qn({inputData:e,comparator:t,filterName:n,order:r}){const s=e.map((o,i)=>[o,i]);return s.sort((o,i)=>{const a=t(o[0],i[0]);return a!==0?a:i[1]-o[1]}),e=s.map(o=>o[0]),n&&(e=e.filter(o=>Object.values(o).some(i=>String(i).toLowerCase().includes(n.toLowerCase())))),e}function Qn({inputData:e,comparator:t,filterName:n,order:r}){const s=e.map((o,i)=>[o,i]);return s.sort((o,i)=>{const a=t(o[0],i[0]);return a!==0?a:i[1]-o[1]}),e=s.map(o=>o[0]),n&&(e=e.filter(o=>Object.values(o).some(i=>String(i).toLowerCase().includes(n.toLowerCase())))),e}function ut({order:e,onSort:t,orderBy:n,rowCount:r,headLabel:s,numSelected:o,onSelectAllRows:i}){return c.jsx(At,{children:c.jsx(H,{children:s.map(a=>c.jsx(S,{align:a.align||"left",sortDirection:n===a.id?e:!1,sx:{width:a.width,minWidth:a.minWidth},children:c.jsxs(Lt,{hideSortIcon:!0,active:n===a.id,direction:n===a.id?e:"asc",onClick:()=>t(a.id),children:[a.label,n===a.id?c.jsx(I,{sx:{...Un},children:e==="desc"?"sorted descending":"sorted ascending"}):null]})},a.id))})})}function ft({emptyRows:e,height:t,sx:n,...r}){return e?c.jsx(H,{sx:{...t&&{height:t*e},...n},...r,children:c.jsx(S,{colSpan:9})}):null}function dt({numSelected:e,filterName:t,onFilterName:n}){return c.jsxs(xt,{sx:{height:96,display:"flex",justifyContent:"space-between",p:r=>r.spacing(0,1,0,3),...e>0&&{color:"primary.main",bgcolor:"primary.lighter"}},children:[e>0?c.jsxs(F,{component:"div",variant:"subtitle1",children:[e," selected"]}):c.jsx(Ot,{fullWidth:!0,value:t,onChange:n,placeholder:"ค้นหาข้อมูลในตาราง...",startAdornment:c.jsx(bt,{position:"start",children:c.jsx(X,{src:"/assets/icons/iconify/filter.svg",width:"20px",height:"20px",sx:{color:"text.disabled"}})}),sx:{maxWidth:320}}),c.jsx(yt,{title:"Filter list",children:c.jsx(wt,{children:c.jsx(X,{src:"/assets/icons/iconify/filter.svg",width:"20px",height:"20px",sx:{color:"text.disabled"}})})})]})}function Yn({dataGram:e}){const t=Jn(),[n,r]=p.useState(""),s=qn({inputData:e,comparator:lt(t.order,t.orderBy),filterName:n,order:"desc"}),o=!s.length&&!!n;return c.jsx(c.Fragment,{children:e.length<=0?null:c.jsxs(B,{children:[c.jsx(le,{title:"ข้อมูลการชั่งน้ำหนัก",subheader:"(ชั่งแบบ กรัม)"}),c.jsx(dt,{numSelected:t.selected.length,filterName:n,onFilterName:i=>{r(i.target.value),t.onResetPage()}}),c.jsx(Ee,{children:c.jsx(Xe,{sx:{overflow:"unset"},children:c.jsxs($e,{sx:{widthidth:800,minWidth:1e3},children:[c.jsx(ut,{order:t.order,orderBy:t.orderBy,rowCount:e.length,numSelected:t.selected.length,onSort:t.onSort,onSelectAllRows:i=>t.onSelectAllRows(i,e.map(a=>a.mode_gram_id)),headLabel:[{id:"timestamp",label:"Timestamp"},{id:"serial_number",label:"Serial number"},{id:"operator1",label:"Oper 1"},{id:"operator2",label:"Oper 2"},{id:"minWeight",label:"Set Min."},{id:"maxWeight",label:"Set Max."},{id:"weight",label:"Weight"},{id:"isVerified",label:"Pass/Fail",align:"center"}]}),c.jsxs(We,{children:[s.slice(t.page*t.rowsPerPage,t.page*t.rowsPerPage+t.rowsPerPage).map(i=>c.jsx(Vn,{row:i,selected:t.selected.includes(i.mode_gram_id)},i.mode_gram_id)),c.jsx(ft,{height:68,emptyRows:at(t.page,t.rowsPerPage,e.length)}),o&&c.jsx(ct,{searchQuery:n})]})]})})}),c.jsx(Be,{component:"div",page:t.page,count:e.length,rowsPerPage:t.rowsPerPage,onPageChange:t.onChangePage,rowsPerPageOptions:[5,10,25,50],onRowsPerPageChange:t.onChangeRowsPerPage})]})})}function Jn(){const[e,t]=p.useState(0),[n,r]=p.useState("name"),[s,o]=p.useState(5),[i,a]=p.useState([]),[l,f]=p.useState("desc"),d=p.useCallback(u=>{f(n===u&&l==="desc"?"asc":"desc"),r(u)},[l,n]),m=p.useCallback((u,h)=>{if(u){a(h);return}a([])},[]),x=p.useCallback(u=>{const h=i.includes(u)?i.filter(C=>C!==u):[...i,u];a(h)},[i]),g=p.useCallback(()=>{t(0)},[]),b=p.useCallback((u,h)=>{t(h)},[]),w=p.useCallback(u=>{o(parseInt(u.target.value,10)),g()},[g]);return{page:e,order:l,onSort:d,orderBy:n,selected:i,rowsPerPage:s,onSelectRow:x,onResetPage:g,onChangePage:b,onSelectAllRows:m,onChangeRowsPerPage:w}}function Kn({row:e,selected:t}){return c.jsx(c.Fragment,{children:c.jsxs(H,{hover:!0,tabIndex:-1,role:"checkbox",selected:t,children:[c.jsx(S,{component:"th",scope:"row",children:c.jsxs(I,{gap:1,display:"flex",alignItems:"center",children:[c.jsx(Ne,{src:"/assets/icons/iconify/overtime.svg",style:{width:"40px",height:"40px"}}),De(e.timestamp)]})}),c.jsx(S,{children:e.serial_number}),c.jsx(S,{children:e.operator1}),c.jsx(S,{children:e.operator2}),c.jsxs(S,{sx:{color:"primary.main",fontWeight:"bold"},children:[e.primary_pcs," PCS"]}),c.jsxs(S,{sx:{color:e.result==="FAIL"&&"error.main"||"success.main",fontWeight:"bold"},children:[e.pcs," PCS"]}),c.jsx(S,{align:"center",children:c.jsx(Me,{color:e.result==="FAIL"&&"error"||"success",children:e.result})})]})})}function Zn({dataPcs:e}){const t=es(),[n,r]=p.useState(""),s=Qn({inputData:e,comparator:lt(t.order,t.orderBy),filterName:n,order:"desc"}),o=!s.length&&!!n;return c.jsx(c.Fragment,{children:e.length<=0?null:c.jsxs(B,{children:[c.jsx(le,{title:"ข้อมูลการชั่งน้ำหนัก",subheader:"(ชั่งแบบ PCS)"}),c.jsx(dt,{numSelected:t.selected.length,filterName:n,onFilterName:i=>{r(i.target.value),t.onResetPage()}}),c.jsx(Ee,{children:c.jsx(Xe,{sx:{overflow:"unset"},children:c.jsxs($e,{sx:{widthidth:800,minWidth:1e3},children:[c.jsx(ut,{order:t.order,orderBy:t.orderBy,rowCount:e.length,numSelected:t.selected.length,onSort:t.onSort,onSelectAllRows:i=>t.onSelectAllRows(i,e.map(a=>a.mode_pcs_id)),headLabel:[{id:"timestamp",label:"Timestamp"},{id:"serial_number",label:"Serial number"},{id:"operator1",label:"Oper 1"},{id:"operator2",label:"Oper 2"},{id:"primary_pcs",label:"Set PCS."},{id:"pcs",label:"PCS"},{id:"isVerified",label:"Pass/Fail",align:"center"}]}),c.jsxs(We,{children:[s.slice(t.page*t.rowsPerPage,t.page*t.rowsPerPage+t.rowsPerPage).map(i=>c.jsx(Kn,{row:i,selected:t.selected.includes(i.mode_pcs_id)},i.mode_pcs_id)),c.jsx(ft,{height:68,emptyRows:at(t.page,t.rowsPerPage,e.length)}),o&&c.jsx(ct,{searchQuery:n})]})]})})}),c.jsx(Be,{component:"div",page:t.page,count:e.length,rowsPerPage:t.rowsPerPage,onPageChange:t.onChangePage,rowsPerPageOptions:[5,10,25,50],onRowsPerPageChange:t.onChangeRowsPerPage})]})})}function es(){const[e,t]=p.useState(0),[n,r]=p.useState("name"),[s,o]=p.useState(5),[i,a]=p.useState([]),[l,f]=p.useState("desc"),d=p.useCallback(u=>{f(n===u&&l==="desc"?"asc":"desc"),r(u)},[l,n]),m=p.useCallback((u,h)=>{if(u){a(h);return}a([])},[]),x=p.useCallback(u=>{const h=i.includes(u)?i.filter(C=>C!==u):[...i,u];a(h)},[i]),g=p.useCallback(()=>{t(0)},[]),b=p.useCallback((u,h)=>{t(h)},[]),w=p.useCallback(u=>{o(parseInt(u.target.value,10)),console.log(u.target.value),g()},[g]);return{page:e,order:l,onSort:d,orderBy:n,selected:i,rowsPerPage:s,onSelectRow:x,onResetPage:g,onChangePage:b,onSelectAllRows:m,onChangeRowsPerPage:w}}function ts(){var b,w,u,h,C,v,P,O;const e=jt(),t=St(),n=vt(),[r,s]=p.useState(!0),[o,i]=p.useState(null),[a,l]=p.useState([]),[f,d]=p.useState([]),[m,x]=p.useState([]),g=e.state||{};return p.useEffect(()=>{(async()=>{try{const j=await Rt(g.production_id);s(!1),i(j),console.log(j);const T=[...new Set([...j.modeGramData.summary_days.map(A=>A.date),...j.modePcsData.summary_days.map(A=>A.date)])].sort(),k=T.map(A=>{const D=j.modeGramData.summary_days.find(Z=>Z.date===A);return D?D.pass_count:0}),ht=T.map(A=>{const D=j.modePcsData.summary_days.find(Z=>Z.date===A);return D?D.pass_count:0});l(T),d(k),x(ht)}catch(j){j.status===401||j.status===403?n("/login"):(kt.fire({icon:"error",title:"เกิดข้อผิดพลาด...",text:"ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้!",showConfirmButton:!1}),console.error("Error fetching data:",j))}})()},[n,g.production_id]),c.jsxs(c.Fragment,{children:[c.jsx(Dt,{isShowing:r}),o&&c.jsxs(Ct,{maxWidth:"xl",children:[c.jsxs(B,{sx:{mb:{xs:3,md:5},p:3,backgroundColor:"common.white"},children:[c.jsxs(F,{variant:"h4",children:["เครื่อง ",o.production.machine]}),c.jsx(F,{variant:"body2",component:"div",sx:{color:"gray"},children:`เลขที่ผลิต ${o.production.lot_number?o.production.lot_number:"XXXXXX"}`}),c.jsx(F,{variant:"body2",component:"div",sx:{color:"gray"},children:`ชื่อยา ${o.production.product_name?o.production.product_name:"XXXXXX"}`}),c.jsx(F,{variant:"body2",component:"div",sx:{color:"grey"},children:`ขนาดการผลิต ${o.production.batch_size?o.production.batch_size.toLocaleString():"XXXXXX"}`}),c.jsxs(F,{variant:"body2",component:"div",sx:{mb:1,color:"grey"},children:[`วันที่เริ่มการผลิต ${o.production.start_product?G(o.production.start_product):"XXXXXX"}`,c.jsx("br",{}),`วันที่จบการผลิต ${o.production.finish_product?G(o.production.finish_product):"XXXXXX"}`]}),c.jsxs(I,{display:"flex",flexDirection:"row",justifyContent:"start",gap:1,mt:3,children:[c.jsx(ye,{size:"large",type:"button",sx:{width:40,height:65,borderRadius:50},color:"inherit",variant:"contained",onClick:t.back,children:c.jsx(X,{width:30,height:30,src:"/assets/icons/iconify/fluent-emoji-high-contrast--back-arrow.svg",color:"white"})}),c.jsx(ye,{type:"button",sx:{width:40,height:65,borderRadius:50},color:"primary",variant:"contained",onClick:()=>n("/production/form",{state:{row:o.production}}),children:c.jsx(X,{width:40,height:40,src:"/assets/icons/iconify/fluent--clipboard-text-edit-48-filled.svg",color:"white"})})]})]}),c.jsxs(_,{container:!0,spacing:3,children:[c.jsx(_,{xs:12,sm:6,md:3,children:c.jsx(V,{title:"จำนวน PASS (กรัม)",percent:((b=o.modeGramData)==null?void 0:b.pass_percentage)||0,total:((w=o.modeGramData)==null?void 0:w.pass_count)||0,color:"success",icon:c.jsx("img",{alt:"icon",src:"./assets/icons/repo/scale1.svg"})})}),c.jsx(_,{xs:12,sm:6,md:3,children:c.jsx(V,{title:"จำนวน FAIL (กรัม)",percent:((u=o.modeGramData)==null?void 0:u.fail_percentage)||0,total:((h=o.modeGramData)==null?void 0:h.fail_count)||0,color:"error",icon:c.jsx("img",{alt:"icon",src:"./assets/icons/repo/scale2.svg"})})}),c.jsx(_,{xs:12,sm:6,md:3,children:c.jsx(V,{title:"จำนวน PASS (PCS)",percent:((C=o.modePcsData)==null?void 0:C.pass_percentage)||0,total:((v=o.modePcsData)==null?void 0:v.pass_count)||0,color:"success",icon:c.jsx("img",{alt:"icon",src:"./assets/icons/repo/scale1.svg"})})}),c.jsx(_,{xs:12,sm:6,md:3,children:c.jsx(V,{title:"จำนวน FAIL (PCS)",percent:((P=o.modePcsData)==null?void 0:P.fail_percentage)||0,total:((O=o.modePcsData)==null?void 0:O.fail_count)||0,color:"error",icon:c.jsx("img",{alt:"icon",src:"./assets/icons/repo/scale2.svg"})})}),c.jsx(_,{xs:12,md:12,lg:12,children:a.length<=0?null:c.jsx(Et,{title:"กราฟข้อมูลการชั่ง",subheader:`${G(g.start_product)} ถึง ${G(g.finish_product)}`,unit:"กล่อง",chart:{categories:a,series:[{name:"Gram",data:f},{name:"PCS",data:m}]}})}),c.jsx(_,{xs:12,md:12,lg:12,children:c.jsx(Yn,{dataGram:o.modeGramData.data})}),c.jsx(_,{xs:12,md:12,lg:12,children:c.jsx(Zn,{dataPcs:o.modePcsData.data})})]})]})]})}function ms(){return c.jsxs(c.Fragment,{children:[c.jsx(Pt,{children:c.jsxs("title",{children:[" ",`รายละเอียดผลิต - ${It.appName}`]})}),c.jsx(ts,{})]})}export{ms as default};
